# mechanical_metamaterial
Files to generate a 3D printed mechanical metamaterial valve array associated with:
Supakar, Tinku, David Space, Sophy Meija, Rou Yu Tan, Jeffrey R. Alston, and Eric A. Josephs. "Programmed Internal Reconfigurations in a 3D-Printed Auxetic Metamaterial Enable Fluidic Control for a Vertically Stacked Valve Array." arXiv preprint arXiv:2312.11228 (2023).

Required:
OpenSCAD for Linux: https://openscad.org/downloads.html
For large structures (the STL file for the 8x12x9 valve array is >270MB), we prefer the accelerated version of OpenSCAD as described here: https://gist.github.com/ochafik/6e95596a6e6188b2062ee056b55ce47d

Overview:
valve_array.scad is the OpenSCAD file that positions "always open" (always_open_segment.scad) and "closeable" (closeable_segment.scad) segments composed of re-entrant structures (reentrant_structures.scad) into the correct positions for the mechanical metamaterial.
valve_array.scad requires a control.scad file that is generated by the BASH script generate_valve_array.sh, which determines the necessary number of control regions and positions for "always open" and "closeable" segments according to the algorithm described in the manuscript.
params.scad contains the design parameters including tilt and re-entrant angles of the re-entrant structures.

To run:
Download the .scad and .sh files to the same directory. 
Navigate to the directory in the linux command and run the command: 
bash generate_valve_array.sh X Y
where X is the number of flow channels and Y is the number of columns in the valve array.
For example bash generate_valve_array.sh 18 6
will generate the 6x3x6 valve array.
Un-comment the lines of code at the bottom of generate_valve_array.sh to immediately generate the STL file using OpenSCAD. 
